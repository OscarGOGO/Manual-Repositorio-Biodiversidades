<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 8 Consultas al CAT y SNIB registros usando zacatuche y R | Notas backend BiodiversidadES</title>
<meta name="author" content="Oscar Godínez Gómez">
<meta name="description" content='8.1 Cargar paquetes o instalarlos list.of.packages &lt;- c("stars", "sf", "raster", "terra", "rmapshaper", "purrr",            "progress", "magrittr", "ghql", "dplyr",            "parallel",...'>
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 8 Consultas al CAT y SNIB registros usando zacatuche y R | Notas backend BiodiversidadES">
<meta property="og:type" content="book">
<meta property="og:url" content="https://oscargogo.github.io/Libro_Prueba/consultas-al-cat-y-snib-registros-usando-zacatuche-y-r.html">
<meta property="og:image" content="https://oscargogo.github.io/Libro_Prueba/BiodiversidadES3.png">
<meta property="og:description" content='8.1 Cargar paquetes o instalarlos list.of.packages &lt;- c("stars", "sf", "raster", "terra", "rmapshaper", "purrr",            "progress", "magrittr", "ghql", "dplyr",            "parallel",...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 8 Consultas al CAT y SNIB registros usando zacatuche y R | Notas backend BiodiversidadES">
<meta name="twitter:description" content='8.1 Cargar paquetes o instalarlos list.of.packages &lt;- c("stars", "sf", "raster", "terra", "rmapshaper", "purrr",            "progress", "magrittr", "ghql", "dplyr",            "parallel",...'>
<meta name="twitter:image" content="https://oscargogo.github.io/Libro_Prueba/BiodiversidadES3.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.15/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Notas backend BiodiversidadES</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Biodiversidades</a></li>
<li><a class="" href="git.html"><span class="header-section-number">1</span> Git</a></li>
<li><a class="" href="gitlab-github.html"><span class="header-section-number">2</span> GitLab GitHub</a></li>
<li><a class="" href="organizaci%C3%B3n-de-documentos-y-carpetas-en-el-repositorio.html"><span class="header-section-number">3</span> Organización de documentos y carpetas en el repositorio</a></li>
<li><a class="" href="organizaci%C3%B3n-de-documentos-y-carpetas-en-el-dico-duro-gap.html"><span class="header-section-number">4</span> Organización de documentos y carpetas en el dico duro $(\gap)</a></li>
<li><a class="" href="loops-en-r.-funciones-base-de-r.html"><span class="header-section-number">5</span> Loops en R. Funciones base de R</a></li>
<li><a class="" href="loops-en-r.-paquete-purrr.html"><span class="header-section-number">6</span> Loops en R. Paquete purrr</a></li>
<li><a class="" href="loops-en-r.-paralelizar.html"><span class="header-section-number">7</span> Loops en R. Paralelizar</a></li>
<li><a class="active" href="consultas-al-cat-y-snib-registros-usando-zacatuche-y-r.html"><span class="header-section-number">8</span> Consultas al CAT y SNIB registros usando zacatuche y R</a></li>
<li><a class="" href="consulta-de-snib-registros.html"><span class="header-section-number">9</span> Consulta de SNIB registros</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/OscarGOGO/Libro_Prueba">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="consultas-al-cat-y-snib-registros-usando-zacatuche-y-r" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Consultas al CAT y SNIB registros usando zacatuche y R<a class="anchor" aria-label="anchor" href="#consultas-al-cat-y-snib-registros-usando-zacatuche-y-r"><i class="fas fa-link"></i></a>
</h1>
<p><a href="C:/Users/ogodinez/Documents/CnM/PruebaLibro/Libro_Prueba1/images/Zacatuche.png" width="591"></a></p>
<div id="cargar-paquetes-o-instalarlos" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Cargar paquetes o instalarlos<a class="anchor" aria-label="anchor" href="#cargar-paquetes-o-instalarlos"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list.of.packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"stars"</span>, <span class="st">"sf"</span>, <span class="st">"raster"</span>, <span class="st">"terra"</span>, <span class="st">"rmapshaper"</span>, <span class="st">"purrr"</span>,</span>
<span>                      <span class="st">"progress"</span>, <span class="st">"magrittr"</span>, <span class="st">"ghql"</span>, <span class="st">"dplyr"</span>, </span>
<span>                      <span class="st">"parallel"</span>, <span class="st">"jsonlite"</span>, <span class="st">"future"</span>, <span class="st">"furrr"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">new.packages</span> <span class="op">&lt;-</span> <span class="va">list.of.packages</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">list.of.packages</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span>,<span class="st">"Package"</span><span class="op">]</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">new.packages</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="va">new.packages</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">walk</a></span><span class="op">(</span><span class="va">list.of.packages</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">x</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                                                                 warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span>,  quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="cargar-funciones-usando-un-environment" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> Cargar funciones usando un environment<a class="anchor" aria-label="anchor" href="#cargar-funciones-usando-un-environment"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"L:/BiodiversidadES/01_Conocimiento/01_Diversidad_biologica/04_Funciones/CAT_SNIB_env.RData"</span><span class="op">)</span> </span></code></pre></div>
</div>
<div id="funciones-generales" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Funciones generales<a class="anchor" aria-label="anchor" href="#funciones-generales"><i class="fas fa-link"></i></a>
</h2>
<div id="catalogoclass" class="section level3" number="8.3.1">
<h3>
<span class="header-section-number">8.3.1</span> <em>CatalogoClass()</em><a class="anchor" aria-label="anchor" href="#catalogoclass"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>grupo_verificado <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            tabla <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            taxon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            reino <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            categoria_taxonomica <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            categoria_busqueda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            multiple_lista <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>La función ayuda a construir los parámetros de consulta al zacatuche de forma fácil y ordenada. Si alguno de los parámetros necesarios para la consulta es incorrecto o falta, entonces mostrará un mensaje de error. Está función es usada para consultar al CAT y al SNIB ejemplares por lo que es muy importante conocer su funcionamiento y estructura.</p>
<div id="parámetros" class="section level4" number="8.3.1.1">
<h4>
<span class="header-section-number">8.3.1.1</span> <strong>Parámetros</strong><a class="anchor" aria-label="anchor" href="#par%C3%A1metros"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<strong>grupo_verificado</strong> = <em>character</em>. Grupos taxonómicos definidos con la ayuda de la SCAT de la CONABIO. Se puede elegir una de las cuatro propuestas para agrupar los táxones: “grupo1”, “grupo2”, “grupo3” o taxon y “grupo4” o reino, o seleccionar uno o varios de los táxones que se encuentran en Grupos_consulta, por ejemplo: “Hongos” o algo más especifico como “Ascomycota”.</li>
</ul>
<p>La tabla de grupos taxonómicos puede consultarse de la siguiente forma:</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="va">Grupos_consulta</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2b9bb7bc09a4d23619a1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2b9bb7bc09a4d23619a1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189"],["bacterias","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","hongos","hongos","hongos","hongos","hongos","hongos","plantas no vasculares","plantas no vasculares","plantas no vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","invertebrados no artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","artropodos","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","vertebrados","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares","plantas vasculares"],["cyanobacterias","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","algas","hongos","hongos","hongos","hongos","hongos","hongos","briofitas","antoceros","hepaticas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","pteridofitas","gimnospermas","gimnospermas","gimnospermas","gimnospermas","gimnospermas","gimnospermas","gimnospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas","esponjas de mar","esponjas de mar","esponjas de mar","esponjas de mar","placozoa","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","cnidarios","ctenoforos","chaetognatha","platelmintos","moluscos","moluscos","moluscos","moluscos","moluscos","gusanos anelidos","gusanos anelidos","gusanos anelidos","sipuncula","rotifera","acanthocephala","foronideos","briozoos","brachiopodos","tardigrados","onychophora","equinodermos","urocordados","urocordados","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","crustaceos","quelicerados","quelicerados","quelicerados","miriapodos","miriapodos","miriapodos","miriapodos","hexapodos","hexapodos","hexapodos","hexapodos","peces","peces","peces","peces","peces","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","mamiferos","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","aves","anfibios","anfibios","anfibios","reptiles","reptiles","reptiles","gimnospermas","pteridofitas","angiospermas","angiospermas","angiospermas","angiospermas","angiospermas"],["Cyanobacteria","Bacillariophyta","Cryptophyta","Choanozoa","Dinophyta","Euglenozoa","Haptophyta","Charophyta","Chlorophyta","Rhodophyta","Chrysophyceae","Phaeophyceae","Bolidophyceae","Dictyochophyceae","Picophagophyceae","Raphidophyceae","Synurales","Xanthophyceae","Ascomycota","Basidiomycota","Chytridiomycota","Glomeromycota","Zygomycota","Entomophthorales","Bryophyta","Anthocerotophyta","Marchantiophyta","Lycopodiales","Isoetales","Selaginellales","Equisetales","Ophioglossales","Marattiaceae","Osmundales","Hymenophyllales","Gleicheniales","Schizaeales","Salviniales","Cyatheales","Polypodiales","Pinaceae","Cupressaceae","Podocarpaceae","Cycadaceae","Zamiaceae","Ephedraceae","Ginkgoaceae","Asteraceae","Cactaceae","Crassulaceae","Euphorbiaceae","Fabaceae","Fagaceae","Lamiaceae","Rubiaceae","Solanaceae","Orchidaceae","Asparagaceae","Arecaceae","Bromeliaceae","Poaceae","Calcarea","Demospongiae","Hexactinellida","Homoscleromorpha","Placozoa","Spirularia","Penicillaria","Actiniaria","Zoantharia","Alcyonacea","Pennatulacea","Antipatharia","Corallimorpharia","Scleractinia","Cubozoa","Hydrozoa","Scyphozoa","Ctenophora","Chaetognatha","Platyhelminthes","Bivalvia","Cephalopoda","Gastropoda","Polyplacophora","Scaphopoda","Polychaeta","Lumbricidae","Arhynchobdellida","Sipuncula","Rotifera","Acanthocephala","Phoronida","Bryozoa","Brachiopoda","Tardigrada","Onychophora","Echinodermata","Ascidiacea","Thaliacea","Anostraca","Diplostraca","Laevicaudata","Notostraca","Remipedia","Cephalocarida","Maxillopoda","Ostracoda","Stomatopoda","Amphipoda","Cumacea","Isopoda","Lophogastrida","Tanaidacea","Thermosbaenacea","Euphausiacea","Leptostraca","Decapoda","Mysida","Arachnida","Xiphosura","Pycnogonida","Chilopoda","Diplopoda","Pauropoda","Symphyla","Insecta","Diplura","Collembola","Protura","Myxini","Leptocardii","Chondrichthyes","Osteichthyes","Petromyzontida","Rodentia","Chiroptera","Carnivora","Soricomorpha","Cetacea","Artiodactyla","Lagomorpha","Didelphimorphia","Primates","Pilosa","Perissodactyla","Cingulata","Sirenia","Passeriformes","Charadriiformes","Apodiformes","Anseriformes","Accipitriformes","Procellariiformes","Piciformes","Strigiformes","Columbiformes","Galliformes","Psittaciformes","Pelecaniformes","Gruiformes","Falconiformes","Caprimulgiformes","Suliformes","Cuculiformes","Coraciiformes","Trogoniformes","Podicipediformes","Gaviiformes","Cathartiformes","Tinamiformes","Phaethontiformes","Nyctibiiformes","Ciconiiformes","Phoenicopteriformes","Eurypygiformes","Anura","Caudata","Gymnophiona","Crocodylia","Squamata","Testudines","Taxaceae","Psilotales","Commelinaceae","Rosaceae","Burseraceae","Apocynaceae","Campanulaceae"],["Prokaryotae","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Protoctista","Fungi","Fungi","Fungi","Fungi","Fungi","Fungi","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Animalia","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae","Plantae"],["división","división","división","división","división","phylum","división","división","división","división","clase","clase","clase","clase","clase","clase","orden","clase","división","división","división","división","división","orden","división","división","división","orden","orden","orden","orden","orden","familia","orden","orden","orden","orden","orden","orden","orden","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","familia","clase","clase","clase","clase","phylum","orden","orden","orden","orden","orden","orden","orden","orden","orden","clase","clase","clase","phylum","phylum","phylum","clase","clase","clase","clase","clase","clase","familia","orden","phylum","phylum","phylum","phylum","phylum","phylum","phylum","phylum","phylum","clase","clase","orden","orden","orden","orden","clase","clase","clase","clase","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","clase","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","orden","familia","orden","familia","familia","familia","familia","familia"],["especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","clase","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie","especie"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>grupo1<\/th>\n      <th>grupo2<\/th>\n      <th>taxon<\/th>\n      <th>reino<\/th>\n      <th>categoria_taxonomica<\/th>\n      <th>categoria_busqueda<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script><ul>
<li><p><strong>tabla</strong> = <em><code>data.frame</code></em>. Una tabla con cuatro columnas, dos obligatorias: <code>Taxon</code> = Taxón que se consulta en el CAT; <code>Reino</code> = Reino al que pertenece el taxón que se consulta. Y dos opcionales: <code>Categoría taxonómica</code> = Categoría taxonómica del taxón que se consulta (e.g., subespecie, especie, género, familia, clase, suborden, orden); <code>Categoría del taxon de búsqueda</code> = Por default se entiende que se busca información a nivel de especie (e.g., especies del taxón que se consulta), pero en esta columna se puede especificar si la información que se consulta se requiere a otro nivel (e.g., colocar la palabra ‘género’ te devolverá información sobre los géneros del taxón que se consulta). <u><em>El nombre de las columnas no es importante, el orden sí.</em></u></p></li>
<li><p><strong>taxon</strong> = <em><code>character</code></em>. Si solo consultas información de un grupo taxonómico puedes colocar su nombre aquí y deberás usar los tres parámetros siguientes, dos de ellos opcionales.</p></li>
<li><p><strong>reino</strong> = <em><code>character</code></em>. Indica el reino al que pertenece el taxón que se busca.</p></li>
<li><p><strong>categoria_taxonomica</strong> = <em><code>character</code></em>. Opcional, indica la categoría taxonómica del taxón que se busca, por ejemplo, subespecie, especie, género, familia, clase, suborden u orden, es decir, si mi taxon es ‘<em>Panthera onca</em>’ puedo especificar en esta columna que se trata de una ‘especie’.</p></li>
<li><p><strong>categoria_busqueda</strong> = <em><code>character</code></em>. Opcional, indica la categoría taxonómica del taxón que se busca, por ejemplo, subespecie, especie, género, familia, clase, suborden u orden, es decir, si se coloca ‘género’ te devolverá información sobre los géneros del taxón que se consulta.</p></li>
</ul>
</div>
<div id="ejemplos" class="section level4" number="8.3.1.2">
<h4>
<span class="header-section-number">8.3.1.2</span> Ejemplos<a class="anchor" aria-label="anchor" href="#ejemplos"><i class="fas fa-link"></i></a>
</h4>
<ol style="list-style-type: decimal">
<li>Usando una tabla que previamente se pudo cargar con <code>read.csv</code>, <code>read.table</code>, <code>read_csv</code> u otras funciones. Las columnas de la table deben mantener el mismo orden que la tabla de abajo, es decir, taxón, reino, categoría taxonómica, categoría de búsqueda.</li>
</ol>
<p>En el ejemplo se busca información a nivel de <strong>especie</strong> para el orden <strong>Carnivora</strong> que pertenece al reino <strong>Animalia</strong> y de la familia <strong>Fagaceae</strong> que pertenece al reino <strong>Plantae</strong></p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tabla_consulta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>taxon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Carnivora"</span>, <span class="st">"Fagaceae"</span><span class="op">)</span>,</span>
<span>                             reino <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Animalia"</span>, <span class="st">"Plantae"</span><span class="op">)</span>,</span>
<span>                             categoria_taxonomica <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"orden"</span>, <span class="st">"familia"</span><span class="op">)</span>,</span>
<span>                             categoria_busqueda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"especie"</span>, <span class="st">"especie"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tabla_consulta</span> </span>
<span><span class="co">#&gt;       taxon    reino categoria_taxonomica</span></span>
<span><span class="co">#&gt; 1 Carnivora Animalia                orden</span></span>
<span><span class="co">#&gt; 2  Fagaceae  Plantae              familia</span></span>
<span><span class="co">#&gt;   categoria_busqueda</span></span>
<span><span class="co">#&gt; 1            especie</span></span>
<span><span class="co">#&gt; 2            especie</span></span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>tabla <span class="op">=</span> <span class="va">tabla_consulta</span><span class="op">)</span></span>
<span><span class="va">entrada_consulta</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; An object of class "Catalogo"</span></span>
<span><span class="co">#&gt; Slot "taxa":</span></span>
<span><span class="co">#&gt; [1] "Carnivora AND taxonRank:especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "kingdom":</span></span>
<span><span class="co">#&gt; [1] "Animalia"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "category":</span></span>
<span><span class="co">#&gt; [1] "orden"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "gverif":</span></span>
<span><span class="co">#&gt; [1] ""</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; An object of class "Catalogo"</span></span>
<span><span class="co">#&gt; Slot "taxa":</span></span>
<span><span class="co">#&gt; [1] "Fagaceae AND taxonRank:especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "kingdom":</span></span>
<span><span class="co">#&gt; [1] "Plantae"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "category":</span></span>
<span><span class="co">#&gt; [1] "familia"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "gverif":</span></span>
<span><span class="co">#&gt; [1] ""</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Usando alguno de los grupos que se encuentran en la tabla <strong>Grupos_consulta</strong> (ver parámetros) y que ya fueron verificados por el SCAT</li>
</ol>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Alguno de los grupos que ya fueron verificados</span></span>
<span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>grupo_verificado <span class="op">=</span> <span class="st">"Vertebrados"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">entrada_consulta</span><span class="op">[[</span><span class="fl">10</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; An object of class "Catalogo"</span></span>
<span><span class="co">#&gt; Slot "taxa":</span></span>
<span><span class="co">#&gt; [1] "/Cetacea/ AND taxonRank:especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "kingdom":</span></span>
<span><span class="co">#&gt; [1] "Animalia"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "category":</span></span>
<span><span class="co">#&gt; [1] "orden"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "gverif":</span></span>
<span><span class="co">#&gt; [1] "Vertebrados"</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Buscando un solo taxón o grupo taxonómico. En los ejemplos primero se consultan las especies del orden Carnívora y después la información de la especie <em>Tapirus bairdii</em>.</li>
</ol>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>taxon <span class="op">=</span> <span class="st">"Carnivora"</span>, </span>
<span>                                                reino <span class="op">=</span> <span class="st">"Animalia"</span>,</span>
<span>                                                categoria_taxonomica <span class="op">=</span> <span class="st">"orden"</span>,</span>
<span>                                                categoria_busqueda <span class="op">=</span> <span class="st">"especie"</span><span class="op">)</span></span>
<span><span class="va">entrada_consulta</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; An object of class "Catalogo"</span></span>
<span><span class="co">#&gt; Slot "taxa":</span></span>
<span><span class="co">#&gt; [1] "/Carnivora/ AND taxonRank:especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "kingdom":</span></span>
<span><span class="co">#&gt; [1] "Animalia"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "category":</span></span>
<span><span class="co">#&gt; [1] "orden"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "gverif":</span></span>
<span><span class="co">#&gt; [1] ""</span></span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>taxon <span class="op">=</span> <span class="st">"Tapirus bairdii"</span>,</span>
<span>                                                reino <span class="op">=</span> <span class="st">"Animalia"</span>,</span>
<span>                                                categoria_taxonomica <span class="op">=</span> <span class="st">"especie"</span>, categoria_busqueda <span class="op">=</span> <span class="st">"especie"</span><span class="op">)</span></span>
<span><span class="va">entrada_consulta</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; An object of class "Catalogo"</span></span>
<span><span class="co">#&gt; Slot "taxa":</span></span>
<span><span class="co">#&gt; [1] "/Tapirus bairdii/ AND taxonRank:especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "kingdom":</span></span>
<span><span class="co">#&gt; [1] "Animalia"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "category":</span></span>
<span><span class="co">#&gt; [1] "especie"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slot "gverif":</span></span>
<span><span class="co">#&gt; [1] ""</span></span></code></pre></div>
</div>
</div>
</div>
<div id="funciones-para-consultar-al-cat-del-snib" class="section level2" number="8.4">
<h2>
<span class="header-section-number">8.4</span> Funciones para consultar al CAT del SNIB<a class="anchor" aria-label="anchor" href="#funciones-para-consultar-al-cat-del-snib"><i class="fas fa-link"></i></a>
</h2>
<p>La función principal es <strong><code>taxon_CAT</code></strong> y realiza la consulta al zacatuche y aplica filtros para descartar especies exóticas e invasoras, duplicados, o identificadores con NA. Estos filtros son opcionales. Los parámetros son:</p>
<ul>
<li><p><strong>consulta_CAT</strong>. <em><code>Clase consulta</code></em>, puede ser una lista de consultas. Ver [CatalogoClass()]</p></li>
<li><p><strong>remover_exotica_invasora</strong>. <em><code>logical</code></em><code>, default = TRUE</code>. Remover (TRUE) especies exóticas e invasoras de la tabla final.</p></li>
<li><p><strong>solo_nativas_endemicas</strong>. <em><code>logical</code></em><code>, default = FALSE</code>. Quedarte solo con las especies marcadas como nativas y endémicas (TRUE). Se tiene el riesgo de quitar especies que no han sido evaluadas y cuyo campo aparece como vacío, es decir, <code>""</code>.</p></li>
<li><p><strong>remover_duplicados</strong>. <em><code>logical</code></em><code>, default = TRUE</code>. Remover (TRUE) ids validos duplicados.</p></li>
<li><p><strong>intern</strong>. <em><code>logical</code></em><code>, default = TRUE</code>. Observar el progreso de la consulta.</p></li>
<li><p><strong>parallel</strong>. <em><code>numeric</code></em><code>, default = NULL</code>. Si se quiere paralelizar entonces se debe proporcionar el número de núcleos con los que se quiere trabajar. Queda a criterio del usuario para no saturar la máquina.</p></li>
</ul>
<p>La función depende de las siguientes funciones:</p>
<ol style="list-style-type: decimal">
<li><p><code>Consulta_searchTaxon</code>: genera una consulta y un cliente (conexión a graphql) para zacatuche.</p></li>
<li><p><code>met_1</code><strong>:</strong> hace la consulta a zacatuche GraphQL. Es apropiada para consultas que devuelvan menos de 9,000 registros del CAT.</p></li>
<li><p><code>met_2</code><strong>:</strong> hace la consulta a zacatuche GraphQL. Es apropiada para consultas que devuelvan más de 9,000 registros del CAT. Se usa un loop de tipo <code>repeat{}</code> y en cada iteracción se descarga un maximo de 8,000 registros para no saturar a Zacatuche graphQL. El repeat puede ser paralelizado.</p></li>
<li><p><code>busqueda_CAT</code>: corre la función <code>Consulta_serachTaxon</code> para conectarse a zacatuche y consultar al CAT del SNIB y para eso corre las funciones <code>met_1</code> y <code>met_2</code>. Si son varias consultas entonces usa un <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> o paraleliza el proceso usando <code><a href="https://rdrr.io/pkg/furrr/man/future_map.html">future_map()</a></code> de la librería <code>furrr</code>.</p></li>
<li><p><code>tabla_CAT</code><strong>:</strong> Arregla y estructura los datos en un data.frame. La salida de la consulta realizada al zacatuche es primero json y después una lista, la función tabla_CAT transforma la lista y sublistas en un data.frame y filtra la información para eliminar registros con campos vacíos, sin id, que pertenecen a un Reino distinto al consultado, etc.</p></li>
</ol>
<div class="float">
<img src="images/CAT_1.png" width="591" alt="Flujo de trabajo de la función taxon_CAT()"><div class="figcaption"><strong>Flujo de trabajo de la función taxon_CAT()</strong></div>
</div>
<div id="ejemplos-1" class="section level4" number="8.4.0.1">
<h4>
<span class="header-section-number">8.4.0.1</span> Ejemplos<a class="anchor" aria-label="anchor" href="#ejemplos-1"><i class="fas fa-link"></i></a>
</h4>
<p><strong>1.</strong> Usando una tabla que previamente se pudo cargar con <code>read.csv</code>, <code>read.table</code>, <code>read_csv</code> u otras funciones. Las columnas de la table deben mantener el mismo orden que la tabla de abajo, es decir, taxón, reino, categoría taxonómica, categoría de búsqueda.</p>
<p>En el ejemplo se busca información a nivel de <strong>especie</strong> para el orden <strong>Carnivora</strong> que pertenece al reino <strong>Animalia</strong> y de la familia <strong>Fagaceae</strong> que pertenece al reino <strong>Plantae</strong></p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tabla_consulta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>taxon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Carnivora"</span>, <span class="st">"Fagaceae"</span><span class="op">)</span>,</span>
<span>                             reino <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Animalia"</span>, <span class="st">"Plantae"</span><span class="op">)</span>,</span>
<span>                             categoria_taxonomica <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"orden"</span>, <span class="st">"familia"</span><span class="op">)</span>,</span>
<span>                             categoria_busqueda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"especie"</span>, <span class="st">"especie"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tabla_consulta</span></span>
<span><span class="co">#&gt;       taxon    reino categoria_taxonomica</span></span>
<span><span class="co">#&gt; 1 Carnivora Animalia                orden</span></span>
<span><span class="co">#&gt; 2  Fagaceae  Plantae              familia</span></span>
<span><span class="co">#&gt;   categoria_busqueda</span></span>
<span><span class="co">#&gt; 1            especie</span></span>
<span><span class="co">#&gt; 2            especie</span></span></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>tabla <span class="op">=</span> <span class="va">tabla_consulta</span><span class="op">)</span></span>
<span></span>
<span><span class="va">resultado_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">taxon_CAT</span><span class="op">(</span>consulta_CAT <span class="op">=</span> <span class="va">entrada_consulta</span>,</span>
<span>                                              remover_exotica_invasora <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                              remover_duplicados <span class="op">=</span> <span class="cn">TRUE</span>, intern <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Ver resultado:</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resultado_consulta</span></span></code></pre></div>
<p><strong>2.</strong> Usando alguno de los grupos que se encuentran en la tabla <strong>Grupos_consulta</strong> (ver parámetros) y que ya fueron verificados por el SCAT</p>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Alguno de los grupos que ya fueron verificados</span></span>
<span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>grupo_verificado <span class="op">=</span> <span class="st">"Anfibios"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">resultado_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">taxon_CAT</span><span class="op">(</span>consulta_CAT <span class="op">=</span> <span class="va">entrada_consulta</span>,</span>
<span>                                              remover_exotica_invasora <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                              remover_duplicados <span class="op">=</span> <span class="cn">TRUE</span>, intern <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Ver resultado:</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resultado_consulta</span></span></code></pre></div>
<p><strong>3.</strong> Buscando un solo taxón o grupo taxonómico. En los ejemplos primero se consultan las especies del orden Carnívora y después la información de la especie <em>Tapirus bairdii</em>.</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>taxon <span class="op">=</span> <span class="st">"Carnivora"</span>, </span>
<span>                                                reino <span class="op">=</span> <span class="st">"Animalia"</span>,</span>
<span>                                                categoria_taxonomica <span class="op">=</span> <span class="st">"orden"</span>,</span>
<span>                                                categoria_busqueda <span class="op">=</span> <span class="st">"especie"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Carnivoros</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">taxon_CAT</span><span class="op">(</span>consulta_CAT <span class="op">=</span> <span class="va">entrada_consulta</span>, </span>
<span>                                      remover_exotica_invasora <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                      remover_duplicados <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">Carnivoros</span></span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entrada_consulta</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">CatalogoClass</span><span class="op">(</span>taxon <span class="op">=</span> <span class="st">"Tapirus bairdii"</span>, reino <span class="op">=</span> <span class="st">"Animalia"</span>, categoria_taxonomica <span class="op">=</span> <span class="st">"especie"</span>, categoria_busqueda <span class="op">=</span> <span class="st">"especie"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tapir</span> <span class="op">&lt;-</span> <span class="va">CAT_SNIB_ENVI</span><span class="op">$</span><span class="fu">taxon_CAT</span><span class="op">(</span>consulta_CAT <span class="op">=</span> <span class="va">entrada_consulta</span>, </span>
<span>                                 remover_exotica_invasora <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                 remover_duplicados <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">tapir</span></span></code></pre></div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="loops-en-r.-paralelizar.html"><span class="header-section-number">7</span> Loops en R. Paralelizar</a></div>
<div class="next"><a href="consulta-de-snib-registros.html"><span class="header-section-number">9</span> Consulta de SNIB registros</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#consultas-al-cat-y-snib-registros-usando-zacatuche-y-r"><span class="header-section-number">8</span> Consultas al CAT y SNIB registros usando zacatuche y R</a></li>
<li><a class="nav-link" href="#cargar-paquetes-o-instalarlos"><span class="header-section-number">8.1</span> Cargar paquetes o instalarlos</a></li>
<li><a class="nav-link" href="#cargar-funciones-usando-un-environment"><span class="header-section-number">8.2</span> Cargar funciones usando un environment</a></li>
<li>
<a class="nav-link" href="#funciones-generales"><span class="header-section-number">8.3</span> Funciones generales</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#catalogoclass"><span class="header-section-number">8.3.1</span> CatalogoClass()</a></li></ul>
</li>
<li><a class="nav-link" href="#funciones-para-consultar-al-cat-del-snib"><span class="header-section-number">8.4</span> Funciones para consultar al CAT del SNIB</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/OscarGOGO/Libro_Prueba/blob/master/09-Zacatuche_CAT.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/OscarGOGO/Libro_Prueba/edit/master/09-Zacatuche_CAT.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Notas backend BiodiversidadES</strong>" was written by Oscar Godínez Gómez. It was last built on 2023-07-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
