<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Loops en R. Funciones base de R | Notas backend BiodiversidadES</title>
<meta name="author" content="Oscar Godínez Gómez">
<meta name="description" content="(‘“Looping”, “cycling”, “iterating” or just replicating instructions’) Trabajaremos con conjunto de datos llamada iris, la base tiene información sobre el largo y ancho de sépalos y pétalos de 50...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 5 Loops en R. Funciones base de R | Notas backend BiodiversidadES">
<meta property="og:type" content="book">
<meta property="og:url" content="https://oscargogo.github.io/Libro_Prueba/loops-en-r.-funciones-base-de-r.html">
<meta property="og:image" content="https://oscargogo.github.io/Libro_Prueba/BiodiversidadES3.png">
<meta property="og:description" content="(‘“Looping”, “cycling”, “iterating” or just replicating instructions’) Trabajaremos con conjunto de datos llamada iris, la base tiene información sobre el largo y ancho de sépalos y pétalos de 50...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 Loops en R. Funciones base de R | Notas backend BiodiversidadES">
<meta name="twitter:description" content="(‘“Looping”, “cycling”, “iterating” or just replicating instructions’) Trabajaremos con conjunto de datos llamada iris, la base tiene información sobre el largo y ancho de sépalos y pétalos de 50...">
<meta name="twitter:image" content="https://oscargogo.github.io/Libro_Prueba/BiodiversidadES3.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.15/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Notas backend BiodiversidadES</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Biodiversidades</a></li>
<li><a class="" href="git.html"><span class="header-section-number">1</span> Git</a></li>
<li><a class="" href="gitlab-github.html"><span class="header-section-number">2</span> GitLab GitHub</a></li>
<li><a class="" href="organizaci%C3%B3n-de-documentos-y-carpetas-en-el-repositorio.html"><span class="header-section-number">3</span> Organización de documentos y carpetas en el repositorio</a></li>
<li><a class="" href="organizaci%C3%B3n-de-documentos-y-carpetas-en-el-dico-duro-gap.html"><span class="header-section-number">4</span> Organización de documentos y carpetas en el dico duro $(\gap)</a></li>
<li><a class="active" href="loops-en-r.-funciones-base-de-r.html"><span class="header-section-number">5</span> Loops en R. Funciones base de R</a></li>
<li><a class="" href="loops-en-r.-paquete-purrr.html"><span class="header-section-number">6</span> Loops en R. Paquete purrr</a></li>
<li><a class="" href="loops-en-r.-paralelizar.html"><span class="header-section-number">7</span> Loops en R. Paralelizar</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/OscarGOGO/Libro_Prueba">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="loops-en-r.-funciones-base-de-r" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Loops en R. Funciones base de R<a class="anchor" aria-label="anchor" href="#loops-en-r.-funciones-base-de-r"><i class="fas fa-link"></i></a>
</h1>
<p>(‘“Looping”, “cycling”, “iterating” or just replicating instructions’)</p>
<p>Trabajaremos con conjunto de datos llamada iris, la base tiene información sobre el largo y ancho de sépalos y pétalos de 50 flores de tres especies de plantas.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-03375269820a91f678a1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-03375269820a91f678a1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150"],[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5,7,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7,6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3,3.4,3.5,2.3,3.2,3.5,3.8,3,3.8,3.2,3.7,3.3,3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3,2.8,3,2.9,2.6,2.4,2.4,2.7,2.7,3,3.4,3.1,2.3,3,2.5,2.6,3,2.6,2.3,2.7,3,2.9,2.9,2.5,2.8,3.3,2.7,3,2.9,3,3,2.5,2.9,2.5,3.6,3.2,2.7,3,2.5,2.8,3.2,3,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3,2.8,3,2.8,3.8,2.8,2.8,2.6,3,3.4,3.1,3,3.1,3.1,3.1,2.7,3.2,3.3,3,2.5,3,3.4,3],[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4,4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1,6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1],[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2,1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3,2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8],["setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","versicolor","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica","virginica"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sepal.Length<\/th>\n      <th>Sepal.Width<\/th>\n      <th>Petal.Length<\/th>\n      <th>Petal.Width<\/th>\n      <th>Species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div id="apply" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> apply()<a class="anchor" aria-label="anchor" href="#apply"><i class="fas fa-link"></i></a>
</h2>
<p>Aplicas instrucciones a filas o columnas de un data.frame o matriz.</p>
<div class="inline-figure"><img src="images/apply_1.PNG" width="547"></div>
<video width="500" height="400" controls><source src="images/apply_2.mp4" type="video/mp4"></source></video><p>Si queremos estimar la media de cada una de mis cuatro variables de la tabla iris entonces podría usar lo siguiente:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.843333</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3.057333</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3.758</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.199333</span></span></code></pre></div>
<p><strong>o</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.843333 3.057333 3.758000 1.199333</span></span></code></pre></div>
<p><strong>oo</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html">colMeans</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span></span>
<span><span class="co">#&gt;     5.843333     3.057333     3.758000     1.199333</span></span></code></pre></div>
<p><strong>Pero podríamos usar <code><a href="https://rdrr.io/r/base/apply.html">apply()</a></code></strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fl">2</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in mean.default(newX[, i], ...): argument is not</span></span>
<span><span class="co">#&gt; numeric or logical: returning NA</span></span>
<span></span>
<span><span class="co">#&gt; Warning in mean.default(newX[, i], ...): argument is not</span></span>
<span><span class="co">#&gt; numeric or logical: returning NA</span></span>
<span></span>
<span><span class="co">#&gt; Warning in mean.default(newX[, i], ...): argument is not</span></span>
<span><span class="co">#&gt; numeric or logical: returning NA</span></span>
<span></span>
<span><span class="co">#&gt; Warning in mean.default(newX[, i], ...): argument is not</span></span>
<span><span class="co">#&gt; numeric or logical: returning NA</span></span>
<span></span>
<span><span class="co">#&gt; Warning in mean.default(newX[, i], ...): argument is not</span></span>
<span><span class="co">#&gt; numeric or logical: returning NA</span></span>
<span><span class="co">#&gt; Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span></span>
<span><span class="co">#&gt;           NA           NA           NA           NA </span></span>
<span><span class="co">#&gt;      Species </span></span>
<span><span class="co">#&gt;           NA</span></span></code></pre></div>
<p><strong>¿Porqué sale error o NA?</strong></p>
<p><strong>Para ir tomando ritmo resolvamos los siguientes ejercicios:</strong></p>
<p><strong>1) Ahora quiero la raíz cuadrada de la media que previamente es elevada a la 5ta potencia</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, <span class="fl">2</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">^</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; Sepal.Length  Sepal.Width Petal.Length  Petal.Width </span></span>
<span><span class="co">#&gt;    82.537565    16.343948    27.377383     1.575251</span></span></code></pre></div>
<p><strong>2) El resultado de la raíz cuadrada la quiero multiplicar por 15 y dividir entre 2</strong></p>
<p><strong>3) Si el resultado es mayor a 1000 que devuelva un 0</strong></p>
</div>
<div id="for" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> for()<a class="anchor" aria-label="anchor" href="#for"><i class="fas fa-link"></i></a>
</h2>
<p>Sirve para repetir n veces una o más instrucciones. La estructura es:</p>
<div class="inline-figure"><img src="images/For_1.PNG" width="547"></div>
<div class="inline-figure"><img src="images/For_2.PNG" width="467"></div>
<p>En el siguiente ejemplo usaremos <code>for()</code> para obtener un boxplot para cada variable de pétalo y sépalo.</p>
<p><strong>Solución 1.</strong></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, ylab <span class="op">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Specie"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span> <span class="op">~</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, ylab <span class="op">=</span> <span class="st">"Sepal.Width"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Specie"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span> <span class="op">~</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, ylab <span class="op">=</span> <span class="st">"Petal.Length"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Specie"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span> <span class="op">~</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, ylab <span class="op">=</span> <span class="st">"Petal.Width"</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"Specie"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="05-Loops_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p><strong>Solución 2.</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">~</span> <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, ylab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, xlab <span class="op">=</span> <span class="st">"Specie"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="inline-figure"><img src="05-Loops_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>
<p>Además, podemos crear <strong>vectores, listas o data.frames</strong>, pero previamente debemos crear un <strong>objeto que va a almacenar</strong> nuestra salida de cada iteración (repetición de instrucciones) y que debe tener las propiedades que queremos de salida.</p>
<p><strong>Vector</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prueba</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">prueba</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">prueba</span></span>
<span><span class="co">#&gt; [1] 5.843333 3.057333 3.758000 1.199333</span></span></code></pre></div>
<p><strong>Data.frame</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prueba</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Especie <span class="op">=</span> <span class="st">""</span>, </span>
<span>                     <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                     <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">prueba</span></span>
<span><span class="co">#&gt;   Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1                     0              0</span></span>
<span><span class="co"># c("setosa", "versicolor", "virginica") = unique(iris$Species)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">i.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">prueba</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Especie <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>                     <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">i.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>                     <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">i.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">prueba</span></span>
<span><span class="co">#&gt;      Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1     setosa         5.006      0.3524897</span></span>
<span><span class="co">#&gt; 2 versicolor         5.936      0.5161711</span></span>
<span><span class="co">#&gt; 3  virginica         6.588      0.6358796</span></span></code></pre></div>
<p><strong>Lista</strong></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prueba</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># c("setosa", "versicolor", "virginica") = unique(iris$Species)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">i.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">prueba</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Especie <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>                     <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">i.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>                     <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">i.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">prueba</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;   Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1  setosa         5.006      0.3524897</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;      Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1 versicolor         5.936      0.5161711</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;     Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1 virginica         6.588      0.6358796</span></span></code></pre></div>
<p>Para colapsar la lista en un unico objeto podemos usar la función <code><a href="https://rdrr.io/r/base/do.call.html">do.call()</a></code></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prueba</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">prueba</span><span class="op">)</span></span>
<span><span class="va">prueba</span></span>
<span><span class="co">#&gt;      Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1     setosa         5.006      0.3524897</span></span>
<span><span class="co">#&gt; 2 versicolor         5.936      0.5161711</span></span>
<span><span class="co">#&gt; 3  virginica         6.588      0.6358796</span></span></code></pre></div>
</div>
<div id="sapply" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> sapply()<a class="anchor" aria-label="anchor" href="#sapply"><i class="fas fa-link"></i></a>
</h2>
<p>sapply trabaja con vectores o listas y las salidas usuales pueden ser matrices, con varios array, una lista o un vector, es decir, puede hacer de todo!</p>
<div class="inline-figure"><img src="images/sapply_1.PNG" width="547"></div>
<p>Veamos algunas de sus aplicaciones más comunes.</p>
<p><strong>1.</strong> Obtener un vector numérico. Estimar la media para cada variable del conjunto de datos iris.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.843333 3.057333 3.758000 1.199333</span></span></code></pre></div>
<p><strong>2.</strong> Obtener una matriz con arrays que puedes transformar a data.frame. Ojo el resultado de iteración lo agrega en una “columna”.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt;                [,1]                [,2]               </span></span>
<span><span class="co">#&gt; Especie        "setosa"            "versicolor"       </span></span>
<span><span class="co">#&gt; MSepal.Length  "5.006"             "5.936"            </span></span>
<span><span class="co">#&gt; SDSepal.Length "0.352489687213451" "0.516171147063863"</span></span>
<span><span class="co">#&gt;                [,3]               </span></span>
<span><span class="co">#&gt; Especie        "virginica"        </span></span>
<span><span class="co">#&gt; MSepal.Length  "6.588"            </span></span>
<span><span class="co">#&gt; SDSepal.Length "0.635879593274432"</span></span></code></pre></div>
<p>Si quiero tener una salida más amigable como un data.frame tendríamos que usar otras funciones, por ejemplo:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">magrittr</span><span class="op">)</span><span class="co"># para usar %&gt;%</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Especie MSepal.Length    SDSepal.Length</span></span>
<span><span class="co">#&gt; V1     setosa         5.006 0.352489687213451</span></span>
<span><span class="co">#&gt; V2 versicolor         5.936 0.516171147063863</span></span>
<span><span class="co">#&gt; V3  virginica         6.588 0.635879593274432</span></span></code></pre></div>
<p><strong>3.</strong> Obtener una lista. Se necesita que las salidas tengan dimensiones distintas, de lo contrario lo juntara en una matriz.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">9</span>, <span class="va">seq</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7 8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[7]]</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7 8 9</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span> <span class="op">==</span> <span class="st">"setosa"</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;       Especie MSepal.Length </span></span>
<span><span class="co">#&gt;      "setosa"       "5.006" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;             Especie       MSepal.Length      SDSepal.Length </span></span>
<span><span class="co">#&gt;        "versicolor"             "5.936" "0.516171147063863" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;             Especie       MSepal.Length      SDSepal.Length </span></span>
<span><span class="co">#&gt;         "virginica"             "6.588" "0.635879593274432"</span></span></code></pre></div>
</div>
<div id="tapply" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> tapply()<a class="anchor" aria-label="anchor" href="#tapply"><i class="fas fa-link"></i></a>
</h2>
<p>La función tapply() aplica una función a un vector <em>x</em> y agrupa la salida de acuerdo con un vector <em>y</em> del mismo largo. El vector <em>y</em> es categórico e idealmente debe tener distintos niveles de factor.</p>
<div class="inline-figure"><img src="images/tapply_1.PNG" width="547"></div>
<p>Ejemplo.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/tapply.html">tapply</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Species</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt;     setosa versicolor  virginica </span></span>
<span><span class="co">#&gt;      3.428      2.770      2.974</span></span></code></pre></div>
</div>
<div id="mapply" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> mapply()<a class="anchor" aria-label="anchor" href="#mapply"><i class="fas fa-link"></i></a>
</h2>
<p>La función mapply() puede ser usada bajo la misma logica de sapply pero usando más de un vector. Los vectores iteractuan por posición, es decir, el primer elemento del vector y y el vector 2, seguido del segundo elemento del vector 1 y vector 2, etc.</p>
<div class="inline-figure"><img src="images/mapply_1.PNG" width="547"></div>
<p>Ejemplos:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mapply.html">mapply</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8</span></span>
<span><span class="co">#&gt;  [14] 4.3 5.8 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0</span></span>
<span><span class="co">#&gt;  [27] 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0 5.5 4.9 4.4</span></span>
<span><span class="co">#&gt;  [40] 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4</span></span>
<span><span class="co">#&gt;  [53] 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6</span></span>
<span><span class="co">#&gt;  [66] 6.7 5.6 5.8 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7</span></span>
<span><span class="co">#&gt;  [79] 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5 5.5</span></span>
<span><span class="co">#&gt;  [92] 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3</span></span>
<span><span class="co">#&gt; [105] 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5</span></span>
<span><span class="co">#&gt; [118] 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2</span></span>
<span><span class="co">#&gt; [131] 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8</span></span>
<span><span class="co">#&gt; [144] 6.8 6.7 6.7 6.3 6.5 6.2 5.9</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mapply.html">mapply</a></span><span class="op">(</span><span class="va">sum</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1] 10.0  9.3  9.2  9.2 10.0 11.0  9.4  9.9  8.7  9.5 10.6</span></span>
<span><span class="co">#&gt;  [12]  9.8  9.2  8.4 11.0 11.6 10.6 10.0 11.2 10.4 10.5 10.3</span></span>
<span><span class="co">#&gt;  [23]  9.2 10.1 10.1  9.6 10.0 10.2 10.0  9.5  9.5 10.3 10.8</span></span>
<span><span class="co">#&gt;  [34] 11.1  9.5  9.4 10.3  9.9  8.7 10.0  9.8  8.1  8.9 10.1</span></span>
<span><span class="co">#&gt;  [45] 10.8  9.2 10.5  9.2 10.5  9.7 14.9 14.1 14.9 11.8 13.9</span></span>
<span><span class="co">#&gt;  [56] 13.0 14.3 10.6 14.1 11.8 10.5 13.1 12.2 13.7 12.1 14.2</span></span>
<span><span class="co">#&gt;  [67] 13.1 12.6 12.9 12.0 13.9 12.9 13.7 13.6 13.6 14.0 14.4</span></span>
<span><span class="co">#&gt;  [78] 14.7 13.4 11.8 11.7 11.6 12.4 13.8 12.9 13.9 14.5 13.0</span></span>
<span><span class="co">#&gt;  [89] 12.7 12.0 12.5 13.7 12.4 10.6 12.5 12.9 12.8 13.4 10.6</span></span>
<span><span class="co">#&gt; [100] 12.6 15.6 13.6 16.0 14.8 15.3 17.2 11.9 16.5 15.0 16.9</span></span>
<span><span class="co">#&gt; [111] 14.8 14.4 15.3 13.2 13.7 14.9 15.0 18.2 17.2 13.2 15.8</span></span>
<span><span class="co">#&gt; [122] 13.3 17.2 13.9 15.7 16.4 13.8 14.0 14.8 16.0 16.3 18.1</span></span>
<span><span class="co">#&gt; [133] 14.8 14.2 14.3 16.8 15.3 15.0 13.8 15.4 15.4 15.1 13.6</span></span>
<span><span class="co">#&gt; [144] 15.9 15.7 14.9 13.8 14.7 15.0 14.0</span></span></code></pre></div>
<p>O podría hacer una función:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span>,<span class="va">c</span><span class="op">)</span> <span class="va">a</span><span class="op">+</span><span class="va">b</span><span class="op">/</span><span class="va">c</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mapply.html">mapply</a></span><span class="op">(</span><span class="va">f</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1]  5.500000  5.366667  5.106250  5.083871  5.388889</span></span>
<span><span class="co">#&gt;   [6]  5.835897  5.011765  5.441176  4.882759  5.383871</span></span>
<span><span class="co">#&gt;  [11]  5.805405  5.270588  5.266667  4.666667  6.100000</span></span>
<span><span class="co">#&gt;  [16]  6.040909  5.733333  5.500000  6.147368  5.494737</span></span>
<span><span class="co">#&gt;  [21]  5.900000  5.505405  4.877778  5.615152  5.358824</span></span>
<span><span class="co">#&gt;  [26]  5.533333  5.470588  5.628571  5.611765  5.200000</span></span>
<span><span class="co">#&gt;  [31]  5.316129  5.841176  5.565854  5.833333  5.383871</span></span>
<span><span class="co">#&gt;  [36]  5.375000  5.871429  5.288889  4.833333  5.541176</span></span>
<span><span class="co">#&gt;  [41]  5.371429  5.065217  4.806250  5.457143  5.600000</span></span>
<span><span class="co">#&gt;  [46]  5.266667  5.521053  5.037500  5.705405  5.424242</span></span>
<span><span class="co">#&gt;  [51]  8.468750  7.806250  8.480645  7.239130  8.142857</span></span>
<span><span class="co">#&gt;  [56]  7.307143  7.724242  6.275000  8.186207  6.644444</span></span>
<span><span class="co">#&gt;  [61]  6.750000  7.300000  7.818182  7.720690  6.841379</span></span>
<span><span class="co">#&gt;  [66]  8.119355  7.100000  7.318519  8.245455  7.160000</span></span>
<span><span class="co">#&gt;  [71]  7.400000  7.528571  8.260000  7.778571  7.882759</span></span>
<span><span class="co">#&gt;  [76]  8.066667  8.514286  8.366667  7.551724  7.046154</span></span>
<span><span class="co">#&gt;  [81]  7.083333  7.041667  7.244444  7.888889  6.900000</span></span>
<span><span class="co">#&gt;  [86]  7.323529  8.216129  8.213043  6.966667  7.100000</span></span>
<span><span class="co">#&gt;  [91]  7.192308  7.633333  7.338462  6.434783  7.155556</span></span>
<span><span class="co">#&gt;  [96]  7.100000  7.148276  7.682759  6.300000  7.164286</span></span>
<span><span class="co">#&gt; [101]  8.118182  7.688889  9.066667  8.231034  8.433333</span></span>
<span><span class="co">#&gt; [106]  9.800000  6.700000  9.472414  9.020000  8.894444</span></span>
<span><span class="co">#&gt; [111]  8.093750  8.362963  8.633333  7.700000  7.621429</span></span>
<span><span class="co">#&gt; [116]  8.056250  8.333333  9.463158 10.353846  8.272727</span></span>
<span><span class="co">#&gt; [121]  8.681250  7.350000 10.092857  8.114815  8.427273</span></span>
<span><span class="co">#&gt; [126]  9.075000  7.914286  7.733333  8.400000  9.133333</span></span>
<span><span class="co">#&gt; [131]  9.578571  9.584211  8.400000  8.121429  8.253846</span></span>
<span><span class="co">#&gt; [136]  9.733333  7.947059  8.174194  7.600000  8.641935</span></span>
<span><span class="co">#&gt; [141]  8.506452  8.545161  7.688889  8.643750  8.427273</span></span>
<span><span class="co">#&gt; [146]  8.433333  8.300000  8.233333  7.788235  7.600000</span></span></code></pre></div>
</div>
<div id="lapply" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> lapply()<a class="anchor" aria-label="anchor" href="#lapply"><i class="fas fa-link"></i></a>
</h2>
<p>La función lapply es una de las funciones más usadas en R, permite realizar iteraciones sobre una lista, array o vector y devuelve siempre una lista. Esto tiene varias ventajas, por ejemplo, que puedes guardar cualquier tipo clase de R.</p>
<div class="inline-figure"><img src="images/lapply_1.PNG" width="547"></div>
<div class="inline-figure"><img src="images/lapply_2.PNG" width="547"></div>
<p><strong>Vector</strong></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  </span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;             Especie       MSepal.Length      SDSepal.Length </span></span>
<span><span class="co">#&gt;            "setosa"             "5.006" "0.352489687213451" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;             Especie       MSepal.Length      SDSepal.Length </span></span>
<span><span class="co">#&gt;        "versicolor"             "5.936" "0.516171147063863" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;             Especie       MSepal.Length      SDSepal.Length </span></span>
<span><span class="co">#&gt;         "virginica"             "6.588" "0.635879593274432"</span></span></code></pre></div>
<p><strong>Data.frame</strong></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;   Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1  setosa         5.006      0.3524897</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;      Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1 versicolor         5.936      0.5161711</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;     Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1 virginica         6.588      0.6358796</span></span></code></pre></div>
<p>Para colapsar la lista en un unico data.frame podemos usar la función <code><a href="https://rdrr.io/r/base/do.call.html">do.call()</a></code></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Especie MSepal.Length SDSepal.Length</span></span>
<span><span class="co">#&gt; 1     setosa         5.006      0.3524897</span></span>
<span><span class="co">#&gt; 2 versicolor         5.936      0.5161711</span></span>
<span><span class="co">#&gt; 3  virginica         6.588      0.6358796</span></span></code></pre></div>
<p><strong>lista</strong></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,<span class="op">]</span></span>
<span>  </span>
<span>  <span class="va">x.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Especie"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>           <span class="st">"MSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>           <span class="st">"SDSepal.Length"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$Especie</span></span>
<span><span class="co">#&gt; [1] "setosa"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$MSepal.Length</span></span>
<span><span class="co">#&gt; [1] 5.006</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$SDSepal.Length</span></span>
<span><span class="co">#&gt; [1] 0.3524897</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$Especie</span></span>
<span><span class="co">#&gt; [1] "versicolor"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$MSepal.Length</span></span>
<span><span class="co">#&gt; [1] 5.936</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$SDSepal.Length</span></span>
<span><span class="co">#&gt; [1] 0.5161711</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [[3]]$Especie</span></span>
<span><span class="co">#&gt; [1] "virginica"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$MSepal.Length</span></span>
<span><span class="co">#&gt; [1] 6.588</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$SDSepal.Length</span></span>
<span><span class="co">#&gt; [1] 0.6358796</span></span></code></pre></div>
</div>
<div id="repeat" class="section level2" number="5.7">
<h2>
<span class="header-section-number">5.7</span> repeat<a class="anchor" aria-label="anchor" href="#repeat"><i class="fas fa-link"></i></a>
</h2>
<p>Repite instrucciones hasta cumplir una condición. AL cumplir la condición se rompe el loop usando <em>break</em>.</p>
<div class="inline-figure"><img src="images/r-repeat-loop.jpg" width="547"></div>
<p>Ejemplo.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resultado</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">1</span></span>
<span></span>
<span><span class="kw">repeat</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">y</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">resultado</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">y</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">]</span>, <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">[</span><span class="va">y</span><span class="op">]</span> <span class="op">+</span> <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">[</span><span class="va">y</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>  </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>   <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">[</span><span class="va">y</span><span class="op">]</span> <span class="op">+</span> <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span><span class="op">[</span><span class="va">y</span><span class="op">]</span>  </span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">100</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="kw">break</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">resultado</span><span class="op">[[</span><span class="va">y</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="organizaci%C3%B3n-de-documentos-y-carpetas-en-el-dico-duro-gap.html"><span class="header-section-number">4</span> Organización de documentos y carpetas en el dico duro $(\gap)</a></div>
<div class="next"><a href="loops-en-r.-paquete-purrr.html"><span class="header-section-number">6</span> Loops en R. Paquete purrr</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#loops-en-r.-funciones-base-de-r"><span class="header-section-number">5</span> Loops en R. Funciones base de R</a></li>
<li><a class="nav-link" href="#apply"><span class="header-section-number">5.1</span> apply()</a></li>
<li><a class="nav-link" href="#for"><span class="header-section-number">5.2</span> for()</a></li>
<li><a class="nav-link" href="#sapply"><span class="header-section-number">5.3</span> sapply()</a></li>
<li><a class="nav-link" href="#tapply"><span class="header-section-number">5.4</span> tapply()</a></li>
<li><a class="nav-link" href="#mapply"><span class="header-section-number">5.5</span> mapply()</a></li>
<li><a class="nav-link" href="#lapply"><span class="header-section-number">5.6</span> lapply()</a></li>
<li><a class="nav-link" href="#repeat"><span class="header-section-number">5.7</span> repeat</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/OscarGOGO/Libro_Prueba/blob/master/05-Loops.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/OscarGOGO/Libro_Prueba/edit/master/05-Loops.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Notas backend BiodiversidadES</strong>" was written by Oscar Godínez Gómez. It was last built on 2023-05-09.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
